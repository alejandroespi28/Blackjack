const miModulo=(()=>{let e=[],t=[];const n=document.querySelectorAll("small"),r=document.querySelectorAll(".divCartas");btnNuevo=document.querySelector("#btnNuevo"),btnPedir=document.querySelector("#btnPedir"),btnDetener=document.querySelector("#btnDetener"),tipos=["C","D","H","S"],especiales=["A","J","Q","K"];const o=()=>{if(0===t.length)throw"No hay cartas en el deck";return t.pop()},a=(o=2)=>{t=(()=>{for(t=[],i=2;i<=10;i++)for(let e of tipos)t.push(i+e);for(let e of tipos)for(let n of especiales)t.push(n+e);return _.shuffle(t)})(),e=[];for(let t=0;t<o;t++)e.push(0);n.forEach(e=>e.innerText=0),r.forEach(e=>e.innerHTML=""),btnPedir.disabled=!1,btnDetener.disabled=!1},l=(t,r)=>(e[r]+=(e=>{const t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t})(t),n[r].innerText=e[r],e[r]),d=(e,t)=>{const n=document.createElement("img");n.classList.add("carta"),n.src=`./cartas/${e}.png`,r[t].append(n)},s=t=>{let n=0;do{const t=o();n=l(t,e.length-1),d(t,e.length-1)}while(n<t&&t<=21);(()=>{const[t,n]=e;setTimeout(()=>{n===t?alert("Nadie gana"):t>21?alert("Computadora gana "):n>21?alert("Jugador gana"):alert("Computadora gana")},100)})()};return btnNuevo.addEventListener("click",()=>{a()}),btnPedir.addEventListener("click",()=>{const e=o(),t=l(e,0);d(e,0),t>21?(console.warn("Lo siento, perdiste"),btnPedir.disabled=!0,btnDetener.disabled=!0,s(t)):21===t&&(console.log("21, genial!"),btnPedir.disabled=!0,s(t))}),btnDetener.addEventListener("click",()=>{btnDetener.disabled=!0,btnPedir.disabled=!0,s(e[0])}),{iniciarJuego:a}})();